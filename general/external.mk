ifeq ($(BR2_OPENIPC_FLAVOR_LITE),y)
	OPENIPC_FLAVOR = lite
else ifeq ($(BR2_OPENIPC_FLAVOR_FPV),y)
	OPENIPC_FLAVOR = fpv
else ifeq ($(BR2_OPENIPC_FLAVOR_ULTIMATE),y)
	OPENIPC_FLAVOR = ultimate
endif

ifeq ($(BR2_OPENIPC_SOC_ALLWINNER),y)
	OPENIPC_SOC_VENDOR = allwinner
else ifeq ($(BR2_OPENIPC_SOC_AMBARELLA),y)
	OPENIPC_SOC_VENDOR = ambarella
else ifeq ($(BR2_OPENIPC_SOC_ANYKA),y)
	OPENIPC_SOC_VENDOR = anyka
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN),y)
	OPENIPC_SOC_VENDOR = fullhan
else ifeq ($(BR2_OPENIPC_SOC_GOKE),y)
	OPENIPC_SOC_VENDOR = goke
else ifeq ($(BR2_OPENIPC_SOC_GRAINMEDIA),y)
	OPENIPC_SOC_VENDOR = grainmedia
else ifeq ($(BR2_OPENIPC_SOC_HISILICON),y)
	OPENIPC_SOC_VENDOR = hisilicon
else ifeq ($(BR2_OPENIPC_SOC_INGENIC),y)
	OPENIPC_SOC_VENDOR = ingenic
else ifeq ($(BR2_OPENIPC_SOC_NOVATEK),y)
	OPENIPC_SOC_VENDOR = novatek
else ifeq ($(BR2_OPENIPC_SOC_ROCKCHIP),y)
	OPENIPC_SOC_VENDOR = rockchip
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR),y)
	OPENIPC_SOC_VENDOR = sigmastar
else ifeq ($(BR2_OPENIPC_SOC_TI),y)
	OPENIPC_SOC_VENDOR = ti
else ifeq ($(BR2_OPENIPC_SOC_XIONGMAI),y)
	OPENIPC_SOC_VENDOR = xiongmai
endif

ifeq ($(BR2_OPENIPC_SOC_ALLWINNER_V83X),y)
	OPENIPC_SOC_MODEL = v83x
	OPENIPC_SOC_FAMILY = v83x
else ifeq ($(BR2_OPENIPC_SOC_AMBARELLA_S2L),y)
	OPENIPC_SOC_MODEL = s2l
	OPENIPC_SOC_FAMILY = s2l
else ifeq ($(BR2_OPENIPC_SOC_AMBARELLA_S3L),y)
	OPENIPC_SOC_MODEL = s3l
	OPENIPC_SOC_FAMILY = s3l
else ifeq ($(BR2_OPENIPC_SOC_ANYKA_AK3916EV300),y)
	OPENIPC_SOC_MODEL = ak3916ev300
	OPENIPC_SOC_FAMILY = ak3916ev300
else ifeq ($(BR2_OPENIPC_SOC_ANYKA_AK3918EV300),y)
	OPENIPC_SOC_MODEL = ak3918ev300
	OPENIPC_SOC_FAMILY = ak3918ev300
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN_FH8833V100),y)
	OPENIPC_SOC_MODEL = fh8833v100
	OPENIPC_SOC_FAMILY = fh8833v100
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN_FH8852V100),y)
	OPENIPC_SOC_MODEL = fh8852v100
	OPENIPC_SOC_FAMILY = fh8852v100
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN_FH8852V200),y)
	OPENIPC_SOC_MODEL = fh8852v200
	OPENIPC_SOC_FAMILY = fh8852v200
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN_FH8852V210),y)
	OPENIPC_SOC_MODEL = fh8852v210
	OPENIPC_SOC_FAMILY = fh8852v210
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN_FH8856V100),y)
	OPENIPC_SOC_MODEL = fh8856v100
	OPENIPC_SOC_FAMILY = fh8856v100
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN_FH8856V200),y)
	OPENIPC_SOC_MODEL = fh8856v200
	OPENIPC_SOC_FAMILY = fh8856v200
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN_FH8856V210),y)
	OPENIPC_SOC_MODEL = fh8856v210
	OPENIPC_SOC_FAMILY = fh8856v210
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN_FH8858V200),y)
	OPENIPC_SOC_MODEL = fh8858v200
	OPENIPC_SOC_FAMILY = fh8858v200
else ifeq ($(BR2_OPENIPC_SOC_FULLHAN_FH8858V210),y)
	OPENIPC_SOC_MODEL = fh8858v210
	OPENIPC_SOC_FAMILY = fh8858v210
else ifeq ($(BR2_OPENIPC_SOC_GOKE_GK7102),y)
	OPENIPC_SOC_MODEL = gk7102
	OPENIPC_SOC_FAMILY = gk7102
else ifeq ($(BR2_OPENIPC_SOC_GOKE_GK7102S),y)
	OPENIPC_SOC_MODEL = gk7102s
	OPENIPC_SOC_FAMILY = gk7102s
else ifeq ($(BR2_OPENIPC_SOC_GOKE_GK7202V300),y)
	OPENIPC_SOC_MODEL = gk7202v300
	OPENIPC_SOC_FAMILY = gk7202v300
else ifeq ($(BR2_OPENIPC_SOC_GOKE_GK7205V200),y)
	OPENIPC_SOC_MODEL = gk7205v200
	OPENIPC_SOC_FAMILY = gk7205v200
else ifeq ($(BR2_OPENIPC_SOC_GOKE_GK7205V210),y)
	OPENIPC_SOC_MODEL = gk7205v210
	OPENIPC_SOC_FAMILY = gk7205v210
else ifeq ($(BR2_OPENIPC_SOC_GOKE_GK7205V300),y)
	OPENIPC_SOC_MODEL = gk7205v300
	OPENIPC_SOC_FAMILY = gk7205v300
else ifeq ($(BR2_OPENIPC_SOC_GOKE_GK7605V100),y)
	OPENIPC_SOC_MODEL = gk7605v100
	OPENIPC_SOC_FAMILY = gk7605v100
else ifeq ($(BR2_OPENIPC_SOC_GRAINMEDIA_GM8135),y)
	OPENIPC_SOC_MODEL = gm8135
	OPENIPC_SOC_FAMILY = gm8135
else ifeq ($(BR2_OPENIPC_SOC_GRAINMEDIA_GM8136),y)
	OPENIPC_SOC_MODEL = gm8136
	OPENIPC_SOC_FAMILY = gm8136
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516AV100),y)
	OPENIPC_SOC_MODEL = hi3516av100
	OPENIPC_SOC_FAMILY = hi3516av100
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516AV200),y)
	OPENIPC_SOC_MODEL = hi3516av200
	OPENIPC_SOC_FAMILY = hi3516av200
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516AV300),y)
	OPENIPC_SOC_MODEL = hi3516av300
	OPENIPC_SOC_FAMILY = hi3516av300
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516CV100),y)
	OPENIPC_SOC_MODEL = hi3516cv100
	OPENIPC_SOC_FAMILY = hi3516cv100
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516CV200),y)
	OPENIPC_SOC_MODEL = hi3516cv200
	OPENIPC_SOC_FAMILY = hi3516cv200
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516CV300),y)
	OPENIPC_SOC_MODEL = hi3516cv300
	OPENIPC_SOC_FAMILY = hi3516cv300
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516CV500),y)
	OPENIPC_SOC_MODEL = hi3516cv500
	OPENIPC_SOC_FAMILY = hi3516cv500
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516DV100),y)
	OPENIPC_SOC_MODEL = hi3516dv100
	OPENIPC_SOC_FAMILY = hi3516dv100
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516DV200),y)
	OPENIPC_SOC_MODEL = hi3516dv200
	OPENIPC_SOC_FAMILY = hi3516dv200
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516DV300),y)
	OPENIPC_SOC_MODEL = hi3516dv300
	OPENIPC_SOC_FAMILY = hi3516dv300
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516EV100),y)
	OPENIPC_SOC_MODEL = hi3516ev100
	OPENIPC_SOC_FAMILY = hi3516ev100
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516EV200),y)
	OPENIPC_SOC_MODEL = hi3516ev200
	OPENIPC_SOC_FAMILY = hi3516ev200
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3516EV300),y)
	OPENIPC_SOC_MODEL = hi3516ev300
	OPENIPC_SOC_FAMILY = hi3516ev300
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3518CV100),y)
	OPENIPC_SOC_MODEL = hi3518cv100
	OPENIPC_SOC_FAMILY = hi3518cv100
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3518EV100),y)
	OPENIPC_SOC_MODEL = hi3518ev100
	OPENIPC_SOC_FAMILY = hi3518ev100
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3518EV200),y)
	OPENIPC_SOC_MODEL = hi3518ev200
	OPENIPC_SOC_FAMILY = hi3518ev200
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3518EV201),y)
	OPENIPC_SOC_MODEL = hi3518ev201
	OPENIPC_SOC_FAMILY = hi3518ev201
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3518EV300),y)
	OPENIPC_SOC_MODEL = hi3518ev300
	OPENIPC_SOC_FAMILY = hi3518ev300
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3519V101),y)
	OPENIPC_SOC_MODEL = hi3519v101
	OPENIPC_SOC_FAMILY = hi3519v101
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3520DV200),y)
	OPENIPC_SOC_MODEL = hi3520dv200
	OPENIPC_SOC_FAMILY = hi3520dv200
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3536CV100),y)
	OPENIPC_SOC_MODEL = hi3536cv100
	OPENIPC_SOC_FAMILY = hi3536cv100
else ifeq ($(BR2_OPENIPC_SOC_HISILICON_HI3536DV100),y)
	OPENIPC_SOC_MODEL = hi3536dv100
	OPENIPC_SOC_FAMILY = hi3536dv100
else ifeq ($(BR2_OPENIPC_SOC_INGENIC_T10),y)
	OPENIPC_SOC_MODEL = t10
	OPENIPC_SOC_FAMILY = t10
else ifeq ($(BR2_OPENIPC_SOC_INGENIC_T15),y)
	OPENIPC_SOC_MODEL = t15
	OPENIPC_SOC_FAMILY = t15
else ifeq ($(BR2_OPENIPC_SOC_INGENIC_T20),y)
	OPENIPC_SOC_MODEL = t20
	OPENIPC_SOC_FAMILY = t20
else ifeq ($(BR2_OPENIPC_SOC_INGENIC_T21),y)
	OPENIPC_SOC_MODEL = t21
	OPENIPC_SOC_FAMILY = t21
else ifeq ($(BR2_OPENIPC_SOC_INGENIC_T23),y)
	OPENIPC_SOC_MODEL = t23
	OPENIPC_SOC_FAMILY = t23
else ifeq ($(BR2_OPENIPC_SOC_INGENIC_T30),y)
	OPENIPC_SOC_MODEL = t30
	OPENIPC_SOC_FAMILY = t30
else ifeq ($(BR2_OPENIPC_SOC_INGENIC_T31),y)
	OPENIPC_SOC_MODEL = t31
	OPENIPC_SOC_FAMILY = t31
else ifeq ($(BR2_OPENIPC_SOC_INGENIC_T40),y)
	OPENIPC_SOC_MODEL = t40
	OPENIPC_SOC_FAMILY = t40
else ifeq ($(BR2_OPENIPC_SOC_INGENIC_T41),y)
	OPENIPC_SOC_MODEL = t41
	OPENIPC_SOC_FAMILY = t41
else ifeq ($(BR2_OPENIPC_SOC_NOVATEK_NT98562),y)
	OPENIPC_SOC_MODEL = nt98562
	OPENIPC_SOC_FAMILY = nt98562
else ifeq ($(BR2_OPENIPC_SOC_NOVATEK_NT98566),y)
	OPENIPC_SOC_MODEL = nt98566
	OPENIPC_SOC_FAMILY = nt98566
else ifeq ($(BR2_OPENIPC_SOC_ROCKCHIP_RV1109),y)
	OPENIPC_SOC_MODEL = rv1109
	OPENIPC_SOC_FAMILY = rv1109
else ifeq ($(BR2_OPENIPC_SOC_ROCKCHIP_RV1126),y)
	OPENIPC_SOC_MODEL = rv1126
	OPENIPC_SOC_FAMILY = rv1126
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_MSC313E),y)
	OPENIPC_SOC_MODEL = msc313e
	OPENIPC_SOC_FAMILY = msc313e
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_MSC316DC),y)
	OPENIPC_SOC_MODEL = msc316dc
	OPENIPC_SOC_FAMILY = msc316dc
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_MSC316DM),y)
	OPENIPC_SOC_MODEL = msc316dm
	OPENIPC_SOC_FAMILY = msc316dm
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC30KD),y)
	OPENIPC_SOC_MODEL = ssc30kd
	OPENIPC_SOC_FAMILY = ssc30kd
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC30KQ),y)
	OPENIPC_SOC_MODEL = ssc30kq
	OPENIPC_SOC_FAMILY = ssc30kq
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC325),y)
	OPENIPC_SOC_MODEL = ssc325
	OPENIPC_SOC_FAMILY = ssc325
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC325DE),y)
	OPENIPC_SOC_MODEL = ssc325de
	OPENIPC_SOC_FAMILY = ssc325de
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC333),y)
	OPENIPC_SOC_MODEL = ssc333
	OPENIPC_SOC_FAMILY = ssc333
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC335),y)
	OPENIPC_SOC_MODEL = ssc335
	OPENIPC_SOC_FAMILY = ssc335
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC335DE),y)
	OPENIPC_SOC_MODEL = ssc335de
	OPENIPC_SOC_FAMILY = ssc335de
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC337),y)
	OPENIPC_SOC_MODEL = ssc337
	OPENIPC_SOC_FAMILY = ssc337
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC337DE),y)
	OPENIPC_SOC_MODEL = ssc337de
	OPENIPC_SOC_FAMILY = ssc337de
else ifeq ($(BR2_OPENIPC_SOC_SIGMASTAR_SSC338Q),y)
	OPENIPC_SOC_MODEL = ssc338q
	OPENIPC_SOC_FAMILY = ssc338q
else ifeq ($(BR2_OPENIPC_SOC_TI_DM36X),y)
	OPENIPC_SOC_MODEL = dm36x
	OPENIPC_SOC_FAMILY = dm36x
else ifeq ($(BR2_OPENIPC_SOC_XIONGMAI_XM510),y)
	OPENIPC_SOC_MODEL = xm510
	OPENIPC_SOC_FAMILY = xm510
else ifeq ($(BR2_OPENIPC_SOC_XIONGMAI_XM530),y)
	OPENIPC_SOC_MODEL = xm530
	OPENIPC_SOC_FAMILY = xm530
else ifeq ($(BR2_OPENIPC_SOC_XIONGMAI_XM550),y)
	OPENIPC_SOC_MODEL = xm550
	OPENIPC_SOC_FAMILY = xm550
endif

EXTERNAL_VENDOR = $(BR2_EXTERNAL)/../br-ext-chip-$(OPENIPC_SOC_VENDOR)
OPENIPC_TOOLCHAIN = latest/$(shell $(BR2_EXTERNAL)/scripts/show_toolchains.sh $(BR2_DEFCONFIG))

ifeq ($(BR2_OPENIPC_SOC_INGENIC_T21),y)
	BR2_OPENIPC_KERNEL = $(OPENIPC_SOC_VENDOR)-t31
else
	BR2_OPENIPC_KERNEL = $(OPENIPC_SOC_VENDOR)-$(OPENIPC_SOC_FAMILY)
endif

ifeq ($(call qstrip,$(BR2_DL_DIR)),$(TOPDIR)/dl)
	OPENIPC_KERNEL = $(BR2_OPENIPC_KERNEL)
else
	OPENIPC_KERNEL = $(shell git ls-remote https://github.com/openipc/linux $(BR2_OPENIPC_KERNEL) | head -1 | cut -f1)
	LOCAL_DOWNLOAD = y
endif

export EXTERNAL_VENDOR
export LOCAL_DOWNLOAD
export OPENIPC_KERNEL
export OPENIPC_SOC_FAMILY
export OPENIPC_SOC_MODEL
export OPENIPC_TOOLCHAIN

include $(sort $(wildcard $(BR2_EXTERNAL)/package/*/*.mk))
