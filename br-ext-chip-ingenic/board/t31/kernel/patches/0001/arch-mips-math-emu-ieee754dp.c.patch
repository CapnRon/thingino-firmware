
--- a/arch/mips/math-emu/ieee754dp.c
+++ b/arch/mips/math-emu/ieee754dp.c
@@ -41,7 +41,9 @@ int ieee754dp_isnan(ieee754dp x)
 int ieee754dp_issnan(ieee754dp x)
 {
 	assert(ieee754dp_isnan(x));
-	return ((DPMANT(x) & DP_MBIT(DP_MBITS-1)) == DP_MBIT(DP_MBITS-1));
+	if (ieee754_csr.nan2008)
+		return !(DPMANT(x) & DP_MBIT(DP_MBITS-1));
+	return (DPMANT(x) & DP_MBIT(DP_MBITS-1));
 }
 
 
