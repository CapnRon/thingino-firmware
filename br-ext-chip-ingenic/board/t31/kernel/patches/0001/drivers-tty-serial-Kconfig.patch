
--- a/drivers/tty/serial/Kconfig
+++ b/drivers/tty/serial/Kconfig
@@ -224,7 +224,7 @@ config SERIAL_SAMSUNG_UARTS
 	help
 	  Select the number of available UART ports for the Samsung S3C
 	  serial driver
-	
+
 config SERIAL_SAMSUNG_DEBUG
 	bool "Samsung SoC serial debug"
 	depends on SERIAL_SAMSUNG && DEBUG_LL
@@ -661,8 +661,8 @@ config PDC_CONSOLE
 	depends on PARISC && !SERIAL_MUX && VT
 	default n
 	help
-	  Saying Y here will enable the software based PDC console to be 
-	  used as the system console.  This is useful for machines in 
+	  Saying Y here will enable the software based PDC console to be
+	  used as the system console.  This is useful for machines in
 	  which the hardware based console has not been written yet.  The
 	  following steps must be competed to use the PDC console:
 
@@ -853,7 +853,7 @@ config SERIAL_CPM
 	depends on CPM2 || 8xx
 	select SERIAL_CORE
 	help
-	  This driver supports the SCC and SMC serial ports on Motorola 
+	  This driver supports the SCC and SMC serial ports on Motorola
 	  embedded PowerPC that contain a CPM1 (8xx) or CPM2 (8xxx)
 
 config SERIAL_CPM_CONSOLE
@@ -1484,6 +1484,81 @@ config SERIAL_RP2_NR_UARTS
 	  If multiple cards are present, the default limit of 32 ports may
 	  need to be increased.
 
+config SERIAL_JZ47XX_UART
+	tristate "ingenic jz47xx serial port support"
+	select SERIAL_CORE
+	help
+	  If you have a machine based on a xbrust mips soc you can
+	  enable its onboard serial port by enabling this option.
+
+config SERIAL_JZ47XX_CONSOLE
+	bool "Console on jz47xx and compatible serial port"
+	depends on SERIAL_JZ47XX_UART=y
+	select SERIAL_CORE_CONSOLE
+	---help---
+	  If you say Y here, it will be possible to use a serial port as the
+	  system console (the system console is the device which receives all
+	  kernel messages and warnings and which allows logins in single user
+	  mode). This could be useful if some terminal or printer is connected
+	  to that serial port.
+
+	  Even if you say Y here, the currently visible virtual console
+	  (/dev/tty0) will still be used as the system console by default, but
+	  you can alter that using a kernel command line option such as
+	  "console=ttyS1". (Try "man bootparam" or see the documentation of
+	  your boot loader (grub or lilo or loadlin) about how to pass options
+	  to the kernel at boot time.)
+
+	  If you don't have a VGA card installed and you say Y here, the
+	  kernel will automatically use the first serial line, /dev/ttyS0, as
+	  system console.
+
+	  If unsure, say N.
+
+config SERIAL_JZ47XX_UART0
+	bool "enable uart0"
+	depends on SERIAL_JZ47XX_UART=y
+config SERIAL_JZ47XX_UART0_DMA
+	bool "enable uart0 dma mode"
+	depends on SERIAL_JZ47XX_UART0
+
+config SERIAL_JZ47XX_UART1
+	bool "enable uart1"
+	depends on SERIAL_JZ47XX_UART=y
+config SERIAL_JZ47XX_UART1_DMA
+	bool "enable uart1 dma mode"
+	depends on SERIAL_JZ47XX_UART1
+
+config SERIAL_JZ47XX_UART2
+	bool "enable uart2"
+	depends on SERIAL_JZ47XX_UART=y
+config SERIAL_JZ47XX_UART2_DMA
+	bool "enable uart2 dma mode"
+	depends on SERIAL_JZ47XX_UART2
+
+config SERIAL_JZ47XX_UART3
+	bool "enable uart3"
+	depends on SERIAL_JZ47XX_UART=y
+config SERIAL_JZ47XX_UART3_DMA
+	bool "enable uart3 dma mode"
+	depends on SERIAL_JZ47XX_UART3
+
+config SERIAL_JZ47XX_UART4
+	bool "enable uart4"
+	depends on SERIAL_JZ47XX_UART=y
+config SERIAL_JZ47XX_UART4_DMA
+	bool "enable uart4 dma mode"
+	depends on SERIAL_JZ47XX_UART4
+choice
+	prompt "JZ SERIAL GPIO function pins select"
+	depends on SERIAL_JZ47XX_UART4
+	default SERIAL_JZ47XX_UART4_PB
+config SERIAL_JZ47XX_UART4_PB
+	bool "GPIO B"
+config SERIAL_JZ47XX_UART4_PF
+	bool "GPIO F"
+endchoice
+
 endmenu
 
 endif # TTY
